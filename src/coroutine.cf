(
  Corountines
    A task is responsible for its own state
    See: example/coroutine.cf for example
)
:max-tasks ^10 ;
:tasks ^cells ~max-tasks variables ^+ ;

:running? (n - f) ^tasks h@ ;
:yield (n - ) ^R> swap tasks h! ;
:resume (n -) ^
   dup running? 'drop ^if-not;
   tasks dup  h@  >R 0 swap h! ;
